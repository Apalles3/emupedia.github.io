{"version":3,"sources":["webpack://hybrids/webpack/universalModuleDefinition","webpack://hybrids/webpack/bootstrap","webpack://hybrids/./src/utils.js","webpack://hybrids/./src/property.js","webpack://hybrids/./src/render.js","webpack://hybrids/./src/emitter.js","webpack://hybrids/./src/cache.js","webpack://hybrids/./src/define.js","webpack://hybrids/./src/parent.js","webpack://hybrids/./src/children.js","webpack://hybrids/./src/template/utils.js","webpack://hybrids/./src/template/resolvers/array.js","webpack://hybrids/./src/template/resolvers/value.js","webpack://hybrids/./src/template/resolvers/event.js","webpack://hybrids/./src/template/resolvers/class.js","webpack://hybrids/./src/template/resolvers/style.js","webpack://hybrids/./src/template/resolvers/property.js","webpack://hybrids/./src/template/core.js","webpack://hybrids/./src/template/helpers.js","webpack://hybrids/./src/template/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","camelToDashMap","Map","camelToDash","str","result","undefined","replace","toLowerCase","set","dispatch","host","eventType","options","dispatchEvent","CustomEvent","bubbles","shadyCSS","fn","fallback","shady","ShadyCSS","nativeShadow","IS_IE","Promise","resolve","defaultTransform","v","objectTransform","TypeError","freeze","connect","type","transform","String","Number","Boolean","val","oldValue","invalidate","attrName","hasAttribute","attrValue","getAttribute","render","customOptions","shadowRoot","shadowRootInit","assign","update","target","attachShadow","observe","flush","callbacks","WeakMap","queue","Set","execute","forEach","delete","e","size","requestAnimationFrame","add","entries","getEntry","targetMap","entry","contexts","deps","state","checksum","observed","calculateChecksum","depEntry","dispatchDeep","emitter","contextStack","has","Error","context","nextValue","restoreDeepDeps","lastValue","unsubscribe","cb","defaultMethod","callbacksMap","propsMap","compile","Hybrid","descriptors","hybrids","props","keys","config","desc","Array","isArray","cache","this","newValue","setter","configurable","process","unshift","push","clearValue","disconnects","defineElement","tagName","hybridsOrConstructor","CustomElement","customElements","index","length","list","HTMLElement","defineMap","elements","reduce","acc","parent","hybridsOrFn","node","parentElement","parentNode","constructor","walk","items","from","children","child","deep","nested","observer","MutationObserver","childList","subtree","disconnect","map","dataMap","defaultValue","getTemplateEnd","data","endNode","removeTemplate","nodeType","Node","TEXT_NODE","childNodes","removeChild","startNode","lastNextSibling","nextSibling","arrayMap","movePlaceholder","previousSibling","insertBefore","prevNode","nextNode","resolveValue","textContent","lastEntries","item","id","placeholder","available","ids","filter","lastIndex","matchedEntry","document","createTextNode","resolveArray","targets","classMap","resolveClassList","previousList","className","normalizeValue","classList","remove","styleMap","resolveStyle","stringifyElement","previousMap","nextMap","dashKey","styleValue","style","setProperty","removeProperty","resolveProperty","propertyName","isSVG","substr","eventMap","removeEventListener","callback","addEventListener","resolveEventListener","resolveStyleList","SVGElement","removeAttribute","setAttribute","TIMESTAMP","Date","now","getPlaceholder","PLACEHOLDER_REGEXP_TEXT","PLACEHOLDER_REGEXP_EQUAL","RegExp","PLACEHOLDER_REGEXP_ALL","ATTR_PREFIX","ATTR_REGEXP","preparedTemplates","createWalker","ShadyDOM","inUse","createTreeWalker","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","container","createElement","styleSheetsMap","compileTemplate","rawParts","styles","template","parts","signature","part","slice","join","match","createSignature","innerHTML","content","appendChild","svgRoot","firstChild","fragment","iterator","createNodeIterator","SHOW_COMMENT","test","replaceComments","compileWalker","compileIndex","currentNode","text","results","pop","split","before","next","equal","ELEMENT_NODE","attributes","attr","trim","partialName","args","styleSheets","prevArgs","importNode","clone","cloneNode","querySelectorAll","count","prepareTemplate","applyShadyCSS","renderWalker","clonedParts","renderIndex","currentPart","shift","markers","previousChild","adoptedStyleSheets","isEqual","CSSStyleSheet","styleSheet","replaceSync","marker","styleSubtree","styleElement","setCache","arguments","promiseMap","promise","delay","timeout","setTimeout","then","clearTimeout","PLACEHOLDER","SVG_PLACEHOLDER","STYLE_IMPORT_REGEXP","templatesMap","stylesMap","methods","defineElements","createTemplate","hasAdoptedStyleSheets","joinedStyles","html","svg","helpers"],"mappings":"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","file":"hybrids.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hybrids\"] = factory();\n\telse\n\t\troot[\"hybrids\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const camelToDashMap = new Map();\nexport function camelToDash(str) {\n  let result = camelToDashMap.get(str);\n  if (result === undefined) {\n    result = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n    camelToDashMap.set(str, result);\n  }\n  return result;\n}\n\nexport function pascalToDash(str) {\n  return camelToDash(str.replace(/((?!([A-Z]{2}|^))[A-Z])/g, \"-$1\"));\n}\n\nexport function dispatch(host, eventType, options = {}) {\n  return host.dispatchEvent(\n    new CustomEvent(eventType, { bubbles: false, ...options }),\n  );\n}\n\nexport function shadyCSS(fn, fallback) {\n  const shady = window.ShadyCSS;\n\n  /* istanbul ignore next */\n  if (shady && !shady.nativeShadow) {\n    return fn(shady);\n  }\n\n  return fallback;\n}\n\nexport function stringifyElement(target) {\n  return `<${String(target.tagName).toLowerCase()}>`;\n}\n\nexport const IS_IE = \"ActiveXObject\" in window;\nexport const deferred = Promise.resolve();\n","import { camelToDash } from \"./utils.js\";\n\nconst defaultTransform = v => v;\n\nconst objectTransform = value => {\n  if (typeof value !== \"object\") {\n    throw TypeError(`Assigned value must be an object: ${typeof value}`);\n  }\n  return value && Object.freeze(value);\n};\n\nexport default function property(value, connect) {\n  const type = typeof value;\n  let transform = defaultTransform;\n\n  switch (type) {\n    case \"string\":\n      transform = String;\n      break;\n    case \"number\":\n      transform = Number;\n      break;\n    case \"boolean\":\n      transform = Boolean;\n      break;\n    case \"function\":\n      transform = value;\n      value = transform();\n      break;\n    case \"object\":\n      if (value) Object.freeze(value);\n      transform = objectTransform;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    get: (host, val = value) => val,\n    set: (host, val, oldValue) => transform(val, oldValue),\n    connect:\n      type !== \"object\" && type !== \"undefined\"\n        ? (host, key, invalidate) => {\n            if (host[key] === value) {\n              const attrName = camelToDash(key);\n\n              if (host.hasAttribute(attrName)) {\n                const attrValue = host.getAttribute(attrName);\n                host[key] =\n                  attrValue === \"\" && transform === Boolean ? true : attrValue;\n              }\n            }\n\n            return connect && connect(host, key, invalidate);\n          }\n        : connect,\n  };\n}\n","export default function render(fn, customOptions = {}) {\n  if (typeof fn !== \"function\") {\n    throw TypeError(`The first argument must be a function: ${typeof fn}`);\n  }\n\n  const options = { shadowRoot: true, ...customOptions };\n  const shadowRootInit = { mode: \"open\" };\n\n  if (typeof options.shadowRoot === \"object\") {\n    Object.assign(shadowRootInit, options.shadowRoot);\n  }\n\n  return {\n    get(host) {\n      const update = fn(host);\n      let target = host;\n\n      if (options.shadowRoot) {\n        if (!host.shadowRoot) host.attachShadow(shadowRootInit);\n        target = host.shadowRoot;\n      }\n\n      return function flush() {\n        update(host, target);\n        return target;\n      };\n    },\n    observe(host, flush) {\n      flush();\n    },\n  };\n}\n","const callbacks = new WeakMap();\nconst queue = new Set();\n\nfunction execute() {\n  try {\n    queue.forEach(target => {\n      try {\n        callbacks.get(target)();\n        queue.delete(target);\n      } catch (e) {\n        queue.delete(target);\n        throw e;\n      }\n    });\n  } catch (e) {\n    if (queue.size) execute();\n    throw e;\n  }\n}\n\nexport function dispatch(target) {\n  if (!queue.size) {\n    requestAnimationFrame(execute);\n  }\n  queue.add(target);\n}\n\nexport function subscribe(target, cb) {\n  callbacks.set(target, cb);\n  dispatch(target);\n\n  return function unsubscribe() {\n    queue.delete(target);\n    callbacks.delete(target);\n  };\n}\n","import * as emitter from \"./emitter.js\";\n\nconst entries = new WeakMap();\nexport function getEntry(target, key) {\n  let targetMap = entries.get(target);\n  if (!targetMap) {\n    targetMap = new Map();\n    entries.set(target, targetMap);\n  }\n\n  let entry = targetMap.get(key);\n\n  if (!entry) {\n    entry = {\n      target,\n      key,\n      value: undefined,\n      contexts: undefined,\n      deps: undefined,\n      state: 0,\n      checksum: 0,\n      observed: false,\n    };\n    targetMap.set(key, entry);\n  }\n\n  return entry;\n}\n\nfunction calculateChecksum(entry) {\n  let checksum = entry.state;\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      checksum += depEntry.state;\n    });\n  }\n\n  return checksum;\n}\n\nfunction dispatchDeep(entry) {\n  if (entry.observed) emitter.dispatch(entry);\n  if (entry.contexts) entry.contexts.forEach(dispatchDeep);\n}\n\nfunction restoreDeepDeps(entry, deps) {\n  if (deps) {\n    deps.forEach(depEntry => {\n      entry.deps.add(depEntry);\n\n      if (entry.observed) {\n        /* istanbul ignore if */\n        if (!depEntry.contexts) depEntry.contexts = new Set();\n        depEntry.contexts.add(entry);\n      }\n\n      restoreDeepDeps(entry, depEntry.deps);\n    });\n  }\n}\n\nconst contextStack = new Set();\nexport function get(target, key, getter) {\n  const entry = getEntry(target, key);\n\n  if (contextStack.size && contextStack.has(entry)) {\n    throw Error(`Circular get invocation is forbidden: '${key}'`);\n  }\n\n  contextStack.forEach(context => {\n    if (!context.deps) context.deps = new Set();\n    context.deps.add(entry);\n\n    if (context.observed) {\n      if (!entry.contexts) entry.contexts = new Set();\n      entry.contexts.add(context);\n    }\n  });\n\n  if (entry.checksum && entry.checksum === calculateChecksum(entry)) {\n    return entry.value;\n  }\n\n  try {\n    contextStack.add(entry);\n\n    if (entry.observed && entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        /* istanbul ignore else */\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n\n    entry.deps = undefined;\n    const nextValue = getter(target, entry.value);\n\n    if (entry.deps) {\n      entry.deps.forEach(depEntry => {\n        restoreDeepDeps(entry, depEntry.deps);\n      });\n    }\n\n    if (nextValue !== entry.value) {\n      entry.state += 1;\n      entry.value = nextValue;\n\n      dispatchDeep(entry);\n    }\n\n    entry.checksum = calculateChecksum(entry);\n    contextStack.delete(entry);\n  } catch (e) {\n    entry.checksum = 0;\n\n    contextStack.delete(entry);\n    contextStack.forEach(context => {\n      context.deps.delete(entry);\n      if (context.observed) entry.contexts.delete(context);\n    });\n\n    throw e;\n  }\n\n  return entry.value;\n}\n\nexport function set(target, key, setter, value) {\n  const entry = getEntry(target, key);\n  const newValue = setter(target, value, entry.value);\n\n  if (newValue !== entry.value) {\n    entry.checksum = 0;\n    entry.state += 1;\n    entry.value = newValue;\n\n    dispatchDeep(entry);\n  }\n}\n\nexport function invalidate(target, key, clearValue) {\n  if (contextStack.size) {\n    throw Error(\n      `Invalidating property in chain of get calls is forbidden: '${key}'`,\n    );\n  }\n\n  const entry = getEntry(target, key);\n\n  entry.checksum = 0;\n  entry.state += 1;\n\n  dispatchDeep(entry);\n\n  if (clearValue) {\n    entry.value = undefined;\n  }\n}\n\nexport function observe(target, key, getter, fn) {\n  const entry = getEntry(target, key);\n  entry.observed = true;\n\n  let lastValue;\n  const unsubscribe = emitter.subscribe(entry, () => {\n    const value = get(target, key, getter);\n    if (value !== lastValue) {\n      fn(target, value, lastValue);\n      lastValue = value;\n    }\n  });\n\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      /* istanbul ignore else */\n      if (!depEntry.contexts) depEntry.contexts = new Set();\n      depEntry.contexts.add(entry);\n    });\n  }\n\n  return function unobserve() {\n    unsubscribe();\n    entry.observed = false;\n    if (entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        /* istanbul ignore else */\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n  };\n}\n","import property from \"./property.js\";\nimport render from \"./render.js\";\n\nimport * as cache from \"./cache.js\";\nimport { pascalToDash, deferred } from \"./utils.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst defaultMethod = (host, value) => value;\n\nconst callbacksMap = new WeakMap();\nconst propsMap = new WeakMap();\n\nfunction compile(Hybrid, descriptors) {\n  Hybrid.hybrids = descriptors;\n\n  const callbacks = [];\n  const props = Object.keys(descriptors);\n\n  callbacksMap.set(Hybrid, callbacks);\n  propsMap.set(Hybrid, props);\n\n  props.forEach(key => {\n    const desc = descriptors[key];\n    const type = typeof desc;\n\n    let config;\n\n    if (type === \"function\") {\n      config = key === \"render\" ? render(desc) : { get: desc };\n    } else if (type !== \"object\" || desc === null || Array.isArray(desc)) {\n      config = property(desc);\n    } else {\n      config = {\n        get: desc.get || defaultMethod,\n        set: desc.set || (!desc.get && defaultMethod) || undefined,\n        connect: desc.connect,\n        observe: desc.observe,\n      };\n    }\n\n    Object.defineProperty(Hybrid.prototype, key, {\n      get: function get() {\n        return cache.get(this, key, config.get);\n      },\n      set:\n        config.set &&\n        function set(newValue) {\n          cache.set(this, key, config.set, newValue);\n        },\n      enumerable: true,\n      configurable: process.env.NODE_ENV !== \"production\",\n    });\n\n    if (config.observe) {\n      callbacks.unshift(host =>\n        cache.observe(host, key, config.get, config.observe),\n      );\n    }\n\n    if (config.connect) {\n      callbacks.push(host =>\n        config.connect(host, key, () => {\n          cache.invalidate(host, key);\n        }),\n      );\n    }\n  });\n}\n\nlet update;\n/* istanbul ignore else */\nif (process.env.NODE_ENV !== \"production\") {\n  const walkInShadow = (node, fn) => {\n    fn(node);\n\n    Array.from(node.children).forEach(el => walkInShadow(el, fn));\n\n    if (node.shadowRoot) {\n      Array.from(node.shadowRoot.children).forEach(el => walkInShadow(el, fn));\n    }\n  };\n\n  const updateQueue = new Map();\n  update = (Hybrid, lastHybrids) => {\n    if (!updateQueue.size) {\n      deferred.then(() => {\n        walkInShadow(document.body, node => {\n          if (updateQueue.has(node.constructor)) {\n            const hybrids = updateQueue.get(node.constructor);\n            node.disconnectedCallback();\n\n            Object.keys(node.constructor.hybrids).forEach(key => {\n              cache.invalidate(\n                node,\n                key,\n                node.constructor.hybrids[key] !== hybrids[key],\n              );\n            });\n\n            node.connectedCallback();\n          }\n        });\n        updateQueue.clear();\n      });\n    }\n    updateQueue.set(Hybrid, lastHybrids);\n  };\n}\n\nconst disconnects = new WeakMap();\n\nfunction defineElement(tagName, hybridsOrConstructor) {\n  const type = typeof hybridsOrConstructor;\n  if (type !== \"object\" && type !== \"function\") {\n    throw TypeError(`Second argument must be an object or a function: ${type}`);\n  }\n\n  const CustomElement = window.customElements.get(tagName);\n\n  if (type === \"function\") {\n    if (CustomElement !== hybridsOrConstructor) {\n      return window.customElements.define(tagName, hybridsOrConstructor);\n    }\n    return CustomElement;\n  }\n\n  if (CustomElement) {\n    if (CustomElement.hybrids === hybridsOrConstructor) {\n      return CustomElement;\n    }\n    if (process.env.NODE_ENV !== \"production\" && CustomElement.hybrids) {\n      Object.keys(CustomElement.hybrids).forEach(key => {\n        delete CustomElement.prototype[key];\n      });\n\n      const lastHybrids = CustomElement.hybrids;\n\n      compile(CustomElement, hybridsOrConstructor);\n      update(CustomElement, lastHybrids);\n\n      return CustomElement;\n    }\n\n    throw Error(`Element '${tagName}' already defined`);\n  }\n\n  class Hybrid extends HTMLElement {\n    static get name() {\n      return tagName;\n    }\n\n    constructor() {\n      super();\n\n      const props = propsMap.get(Hybrid);\n\n      for (let index = 0; index < props.length; index += 1) {\n        const key = props[index];\n        if (Object.prototype.hasOwnProperty.call(this, key)) {\n          const value = this[key];\n          delete this[key];\n          this[key] = value;\n        }\n      }\n    }\n\n    connectedCallback() {\n      const callbacks = callbacksMap.get(Hybrid);\n      const list = [];\n\n      for (let index = 0; index < callbacks.length; index += 1) {\n        const cb = callbacks[index](this);\n        if (cb) list.push(cb);\n      }\n\n      disconnects.set(this, list);\n    }\n\n    disconnectedCallback() {\n      const list = disconnects.get(this);\n      for (let index = 0; index < list.length; index += 1) {\n        list[index]();\n      }\n    }\n  }\n\n  compile(Hybrid, hybridsOrConstructor);\n  customElements.define(tagName, Hybrid);\n\n  return Hybrid;\n}\n\nfunction defineMap(elements) {\n  return Object.keys(elements).reduce((acc, key) => {\n    const tagName = pascalToDash(key);\n    acc[key] = defineElement(tagName, elements[key]);\n\n    return acc;\n  }, {});\n}\n\nexport default function define(...args) {\n  if (typeof args[0] === \"object\") {\n    return defineMap(args[0]);\n  }\n\n  return defineElement(...args);\n}\n","function walk(node, fn) {\n  let parentElement = node.parentElement || node.parentNode.host;\n\n  while (parentElement) {\n    const hybrids = parentElement.constructor.hybrids;\n\n    if (hybrids && fn(hybrids)) {\n      return parentElement;\n    }\n\n    parentElement =\n      parentElement.parentElement ||\n      (parentElement.parentNode && parentElement.parentNode.host);\n  }\n\n  return parentElement || null;\n}\n\nexport default function parent(hybridsOrFn) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get: host => walk(host, fn),\n    connect(host, key, invalidate) {\n      const target = host[key];\n      if (target) {\n        return invalidate;\n      }\n      return false;\n    },\n  };\n}\n","function walk(node, fn, options, items = []) {\n  Array.from(node.children).forEach(child => {\n    const hybrids = child.constructor.hybrids;\n    if (hybrids && fn(hybrids)) {\n      items.push(child);\n      if (options.deep && options.nested) {\n        walk(child, fn, options, items);\n      }\n    } else if (options.deep) {\n      walk(child, fn, options, items);\n    }\n  });\n\n  return items;\n}\n\nexport default function children(\n  hybridsOrFn,\n  options = { deep: false, nested: false },\n) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get(host) {\n      return walk(host, fn, options);\n    },\n    connect(host, key, invalidate) {\n      const observer = new MutationObserver(invalidate);\n\n      observer.observe(host, {\n        childList: true,\n        subtree: !!options.deep,\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    },\n  };\n}\n","const map = new WeakMap();\nexport const dataMap = {\n  get(key, defaultValue) {\n    const value = map.get(key);\n    if (value) return value;\n\n    if (defaultValue) {\n      map.set(key, defaultValue);\n    }\n\n    return defaultValue;\n  },\n  set(key, value) {\n    map.set(key, value);\n    return value;\n  },\n};\n\nexport function getTemplateEnd(node) {\n  let data;\n  // eslint-disable-next-line no-cond-assign\n  while (node && (data = dataMap.get(node)) && data.endNode) {\n    node = data.endNode;\n  }\n\n  return node;\n}\n\nexport function removeTemplate(target) {\n  if (target.nodeType !== Node.TEXT_NODE) {\n    let child = target.childNodes[0];\n    while (child) {\n      target.removeChild(child);\n      child = target.childNodes[0];\n    }\n  } else {\n    const data = dataMap.get(target);\n\n    if (data.startNode) {\n      const endNode = getTemplateEnd(data.endNode);\n\n      let node = data.startNode;\n      const lastNextSibling = endNode.nextSibling;\n\n      while (node) {\n        const nextSibling = node.nextSibling;\n        node.parentNode.removeChild(node);\n        node = nextSibling !== lastNextSibling && nextSibling;\n      }\n    }\n  }\n}\n","import { dataMap, removeTemplate, getTemplateEnd } from \"../utils.js\";\n\nexport const arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  const data = dataMap.get(target);\n  const startNode = data.startNode;\n  const endNode = getTemplateEnd(data.endNode);\n\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n\n  let prevNode = target;\n  let node = startNode;\n  while (node) {\n    const nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value, resolveValue) {\n  let lastEntries = arrayMap.get(target);\n  const entries = value.map((item, index) => ({\n    id: Object.prototype.hasOwnProperty.call(item, \"id\") ? item.id : index,\n    value: item,\n    placeholder: null,\n    available: true,\n  }));\n\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    const ids = new Set();\n    entries.forEach(entry => ids.add(entry.id));\n\n    lastEntries = lastEntries.filter(entry => {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  let previousSibling = target;\n  const lastIndex = value.length - 1;\n  const data = dataMap.get(target);\n\n  for (let index = 0; index < entries.length; index += 1) {\n    const entry = entries[index];\n    let matchedEntry;\n    if (lastEntries) {\n      for (let i = 0; i < lastEntries.length; i += 1) {\n        if (lastEntries[i].available && lastEntries[i].id === entry.id) {\n          matchedEntry = lastEntries[i];\n          break;\n        }\n      }\n    }\n\n    let placeholder;\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode(\"\");\n      previousSibling.parentNode.insertBefore(\n        placeholder,\n        previousSibling.nextSibling,\n      );\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(\n      dataMap.get(placeholder).endNode || placeholder,\n    );\n\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n\n    entry.placeholder = placeholder;\n  }\n\n  if (lastEntries) {\n    lastEntries.forEach(entry => {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n","import { dataMap, removeTemplate } from \"../utils.js\";\nimport resolveArray, { arrayMap } from \"./array.js\";\n\nexport default function resolveValue(host, target, value) {\n  const type = Array.isArray(value) ? \"array\" : typeof value;\n  let data = dataMap.get(target, {});\n\n  if (data.type !== type) {\n    removeTemplate(target);\n    if (type === \"array\") arrayMap.delete(target);\n\n    data = dataMap.set(target, { type });\n\n    if (target.textContent !== \"\") {\n      target.textContent = \"\";\n    }\n  }\n\n  switch (type) {\n    case \"function\":\n      value(host, target);\n      break;\n    case \"array\":\n      resolveArray(host, target, value, resolveValue);\n      break;\n    default:\n      target.textContent = type === \"number\" || value ? value : \"\";\n  }\n}\n","const targets = new WeakMap();\n\nexport default function resolveEventListener(eventType) {\n  return (host, target, value, lastValue) => {\n    if (lastValue) {\n      const eventMap = targets.get(target);\n      if (eventMap) {\n        target.removeEventListener(\n          eventType,\n          eventMap.get(lastValue),\n          lastValue.options !== undefined ? lastValue.options : false,\n        );\n      }\n    }\n\n    if (value) {\n      if (typeof value !== \"function\") {\n        throw Error(`Event listener must be a function: ${typeof value}`);\n      }\n\n      let eventMap = targets.get(target);\n      if (!eventMap) {\n        eventMap = new WeakMap();\n        targets.set(target, eventMap);\n      }\n\n      const callback = value.bind(null, host);\n      eventMap.set(value, callback);\n\n      target.addEventListener(\n        eventType,\n        callback,\n        value.options !== undefined ? value.options : false,\n      );\n    }\n  };\n}\n","function normalizeValue(value, set = new Set()) {\n  if (Array.isArray(value)) {\n    value.forEach(className => set.add(className));\n  } else if (value !== null && typeof value === \"object\") {\n    Object.keys(value).forEach(key => value[key] && set.add(key));\n  } else {\n    set.add(value);\n  }\n\n  return set;\n}\n\nconst classMap = new WeakMap();\n\nexport default function resolveClassList(host, target, value) {\n  const previousList = classMap.get(target) || new Set();\n  const list = normalizeValue(value);\n\n  classMap.set(target, list);\n\n  list.forEach(className => {\n    target.classList.add(className);\n    previousList.delete(className);\n  });\n\n  previousList.forEach(className => {\n    target.classList.remove(className);\n  });\n}\n","import { camelToDash, stringifyElement } from \"../../utils.js\";\n\nconst styleMap = new WeakMap();\n\nexport default function resolveStyle(host, target, value) {\n  if (value === null || typeof value !== \"object\") {\n    throw TypeError(\n      `Style value must be an object in ${stringifyElement(target)}:`,\n      value,\n    );\n  }\n\n  const previousMap = styleMap.get(target) || new Map();\n\n  const nextMap = Object.keys(value).reduce((map, key) => {\n    const dashKey = camelToDash(key);\n    const styleValue = value[key];\n\n    if (!styleValue && styleValue !== 0) {\n      target.style.removeProperty(dashKey);\n    } else {\n      target.style.setProperty(dashKey, styleValue);\n    }\n\n    map.set(dashKey, styleValue);\n    previousMap.delete(dashKey);\n\n    return map;\n  }, new Map());\n\n  previousMap.forEach((styleValue, key) => {\n    target.style[key] = \"\";\n  });\n\n  styleMap.set(target, nextMap);\n}\n","import resolveEventListener from \"./event.js\";\nimport resolveClassList from \"./class.js\";\nimport resolveStyleList from \"./style.js\";\n\nexport default function resolveProperty(attrName, propertyName, isSVG) {\n  if (propertyName.substr(0, 2) === \"on\") {\n    const eventType = propertyName.substr(2);\n    return resolveEventListener(eventType);\n  }\n\n  switch (attrName) {\n    case \"class\":\n      return resolveClassList;\n    case \"style\":\n      return resolveStyleList;\n    default:\n      return (host, target, value) => {\n        if (\n          !isSVG &&\n          !(target instanceof SVGElement) &&\n          propertyName in target\n        ) {\n          if (target[propertyName] !== value) {\n            target[propertyName] = value;\n          }\n        } else if (value === false || value === undefined || value === null) {\n          target.removeAttribute(attrName);\n        } else {\n          const attrValue = value === true ? \"\" : String(value);\n          target.setAttribute(attrName, attrValue);\n        }\n      };\n  }\n}\n","import { stringifyElement, shadyCSS, IS_IE } from \"../utils.js\";\nimport { dataMap, removeTemplate } from \"./utils.js\";\n\nimport resolveValue from \"./resolvers/value.js\";\nimport resolveProperty from \"./resolvers/property.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst TIMESTAMP = Date.now();\n\nexport const getPlaceholder = (id = 0) => `{{h-${TIMESTAMP}-${id}}}`;\n\nconst PLACEHOLDER_REGEXP_TEXT = getPlaceholder(\"(\\\\d+)\");\nconst PLACEHOLDER_REGEXP_EQUAL = new RegExp(`^${PLACEHOLDER_REGEXP_TEXT}$`);\nconst PLACEHOLDER_REGEXP_ALL = new RegExp(PLACEHOLDER_REGEXP_TEXT, \"g\");\n\nconst ATTR_PREFIX = `--${TIMESTAMP}--`;\nconst ATTR_REGEXP = new RegExp(ATTR_PREFIX, \"g\");\n\nconst preparedTemplates = new WeakMap();\n\n/* istanbul ignore next */\nfunction applyShadyCSS(template, tagName) {\n  if (!tagName) return template;\n\n  return shadyCSS(shady => {\n    let map = preparedTemplates.get(template);\n    if (!map) {\n      map = new Map();\n      preparedTemplates.set(template, map);\n    }\n\n    let clone = map.get(tagName);\n\n    if (!clone) {\n      clone = document.createElement(\"template\");\n      clone.content.appendChild(template.content.cloneNode(true));\n\n      map.set(tagName, clone);\n\n      const styles = clone.content.querySelectorAll(\"style\");\n\n      Array.from(styles).forEach(style => {\n        const count = style.childNodes.length + 1;\n        for (let i = 0; i < count; i += 1) {\n          style.parentNode.insertBefore(\n            document.createTextNode(getPlaceholder()),\n            style,\n          );\n        }\n      });\n\n      shady.prepareTemplate(clone, tagName.toLowerCase());\n    }\n    return clone;\n  }, template);\n}\n\nfunction createSignature(parts, styles) {\n  let signature = parts.reduce((acc, part, index) => {\n    if (index === 0) {\n      return part;\n    }\n\n    if (\n      parts\n        .slice(index)\n        .join(\"\")\n        .match(/^\\s*<\\/\\s*(table|tr|thead|tbody|tfoot|colgroup)>/)\n    ) {\n      return `${acc}<!--${getPlaceholder(index - 1)}-->${part}`;\n    }\n    return acc + getPlaceholder(index - 1) + part;\n  }, \"\");\n\n  if (styles) {\n    signature += `<style>\\n${styles.join(\"\\n/*------*/\\n\")}\\n</style>`;\n  }\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    return signature.replace(\n      /style\\s*=\\s*([\"][^\"]+[\"]|['][^']+[']|[^\\s\"'<>/]+)/g,\n      match => `${ATTR_PREFIX}${match}`,\n    );\n  }\n\n  return signature;\n}\n\nfunction getPropertyName(string) {\n  return string\n    .replace(/\\s*=\\s*['\"]*$/g, \"\")\n    .split(/\\s+/)\n    .pop();\n}\n\nfunction replaceComments(fragment) {\n  const iterator = document.createNodeIterator(\n    fragment,\n    NodeFilter.SHOW_COMMENT,\n    null,\n    false,\n  );\n  let node;\n  // eslint-disable-next-line no-cond-assign\n  while ((node = iterator.nextNode())) {\n    if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n      node.parentNode.insertBefore(\n        document.createTextNode(node.textContent),\n        node,\n      );\n      node.parentNode.removeChild(node);\n    }\n  }\n}\n\nexport function createInternalWalker(context) {\n  let node;\n\n  return {\n    get currentNode() {\n      return node;\n    },\n    nextNode() {\n      if (node === undefined) {\n        node = context.childNodes[0];\n      } else if (node.childNodes.length) {\n        node = node.childNodes[0];\n      } else if (node.nextSibling) {\n        node = node.nextSibling;\n      } else {\n        let parentNode = node.parentNode;\n        node = parentNode.nextSibling;\n\n        while (!node && parentNode !== context) {\n          parentNode = parentNode.parentNode;\n          node = parentNode.nextSibling;\n        }\n      }\n\n      return !!node;\n    },\n  };\n}\n\nfunction createExternalWalker(context) {\n  return document.createTreeWalker(\n    context,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,\n    null,\n    false,\n  );\n}\n\n/* istanbul ignore next */\nconst createWalker =\n  typeof window.ShadyDOM === \"object\" && window.ShadyDOM.inUse\n    ? createInternalWalker\n    : createExternalWalker;\n\nconst container = document.createElement(\"div\");\nconst styleSheetsMap = new Map();\n\nexport function compileTemplate(rawParts, isSVG, styles) {\n  const template = document.createElement(\"template\");\n  const parts = [];\n\n  let signature = createSignature(rawParts, styles);\n  if (isSVG) signature = `<svg>${signature}</svg>`;\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    template.innerHTML = signature;\n  } else {\n    container.innerHTML = `<template>${signature}</template>`;\n    template.content.appendChild(container.children[0].content);\n  }\n\n  if (isSVG) {\n    const svgRoot = template.content.firstChild;\n    template.content.removeChild(svgRoot);\n    Array.from(svgRoot.childNodes).forEach(node =>\n      template.content.appendChild(node),\n    );\n  }\n\n  replaceComments(template.content);\n\n  const compileWalker = createWalker(template.content);\n  let compileIndex = 0;\n\n  while (compileWalker.nextNode()) {\n    const node = compileWalker.currentNode;\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent;\n\n      if (!text.match(PLACEHOLDER_REGEXP_EQUAL)) {\n        const results = text.match(PLACEHOLDER_REGEXP_ALL);\n        if (results) {\n          let currentNode = node;\n          results\n            .reduce(\n              (acc, placeholder) => {\n                const [before, next] = acc.pop().split(placeholder);\n                if (before) acc.push(before);\n                acc.push(placeholder);\n                if (next) acc.push(next);\n                return acc;\n              },\n              [text],\n            )\n            .forEach((part, index) => {\n              if (index === 0) {\n                currentNode.textContent = part;\n              } else {\n                currentNode = currentNode.parentNode.insertBefore(\n                  document.createTextNode(part),\n                  currentNode.nextSibling,\n                );\n              }\n            });\n        }\n      }\n\n      const equal = node.textContent.match(PLACEHOLDER_REGEXP_EQUAL);\n      if (equal) {\n        /* istanbul ignore else */\n        if (!IS_IE) node.textContent = \"\";\n        parts[equal[1]] = [compileIndex, resolveValue];\n      }\n    } else {\n      /* istanbul ignore else */ // eslint-disable-next-line no-lonely-if\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        Array.from(node.attributes).forEach(attr => {\n          const value = attr.value.trim();\n          /* istanbul ignore next */\n          const name = IS_IE ? attr.name.replace(ATTR_PREFIX, \"\") : attr.name;\n          const equal = value.match(PLACEHOLDER_REGEXP_EQUAL);\n          if (equal) {\n            const propertyName = getPropertyName(rawParts[equal[1]]);\n            parts[equal[1]] = [\n              compileIndex,\n              resolveProperty(name, propertyName, isSVG),\n            ];\n            node.removeAttribute(attr.name);\n          } else {\n            const results = value.match(PLACEHOLDER_REGEXP_ALL);\n            if (results) {\n              const partialName = `attr__${name}`;\n\n              results.forEach((placeholder, index) => {\n                const [, id] = placeholder.match(PLACEHOLDER_REGEXP_EQUAL);\n                parts[id] = [\n                  compileIndex,\n                  (host, target, attrValue) => {\n                    const data = dataMap.get(target, {});\n                    data[partialName] = (data[partialName] || value).replace(\n                      placeholder,\n                      attrValue == null ? \"\" : attrValue,\n                    );\n\n                    if (results.length === 1 || index + 1 === results.length) {\n                      target.setAttribute(name, data[partialName]);\n                      data[partialName] = undefined;\n                    }\n                  },\n                ];\n              });\n\n              attr.value = \"\";\n\n              /* istanbul ignore next */\n              if (IS_IE && name !== attr.name) {\n                node.removeAttribute(attr.name);\n                node.setAttribute(name, \"\");\n              }\n            }\n          }\n        });\n      }\n    }\n\n    compileIndex += 1;\n  }\n\n  return function updateTemplateInstance(host, target, args, styleSheets) {\n    const data = dataMap.get(target, { type: \"function\" });\n\n    if (template !== data.template) {\n      if (data.template || target.nodeType === Node.ELEMENT_NODE) {\n        removeTemplate(target);\n      }\n\n      data.prevArgs = null;\n\n      const fragment = document.importNode(\n        applyShadyCSS(template, host.tagName).content,\n        true,\n      );\n\n      const renderWalker = createWalker(fragment);\n      const clonedParts = parts.slice(0);\n\n      let renderIndex = 0;\n      let currentPart = clonedParts.shift();\n\n      const markers = [];\n\n      data.template = template;\n      data.markers = markers;\n\n      while (renderWalker.nextNode()) {\n        const node = renderWalker.currentNode;\n\n        if (node.nodeType === Node.TEXT_NODE) {\n          /* istanbul ignore next */\n          if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n            node.textContent = \"\";\n          } else if (IS_IE) {\n            node.textContent = node.textContent.replace(ATTR_REGEXP, \"\");\n          }\n        } else if (\n          process.env.NODE_ENV !== \"production\" &&\n          node.nodeType === Node.ELEMENT_NODE\n        ) {\n          if (\n            node.tagName.indexOf(\"-\") > -1 &&\n            !customElements.get(node.tagName.toLowerCase())\n          ) {\n            throw Error(\n              `Missing '${stringifyElement(\n                node,\n              )}' element definition in '${stringifyElement(host)}'`,\n            );\n          }\n        }\n\n        while (currentPart && currentPart[0] === renderIndex) {\n          markers.push([node, currentPart[1]]);\n          currentPart = clonedParts.shift();\n        }\n\n        renderIndex += 1;\n      }\n\n      if (target.nodeType === Node.TEXT_NODE) {\n        data.startNode = fragment.childNodes[0];\n        data.endNode = fragment.childNodes[fragment.childNodes.length - 1];\n\n        let previousChild = target;\n\n        let child = fragment.childNodes[0];\n        while (child) {\n          target.parentNode.insertBefore(child, previousChild.nextSibling);\n          previousChild = child;\n          child = fragment.childNodes[0];\n        }\n      } else {\n        target.appendChild(fragment);\n      }\n    }\n\n    const adoptedStyleSheets = target.adoptedStyleSheets;\n    if (styleSheets) {\n      let isEqual = false;\n\n      styleSheets = styleSheets.map(style => {\n        if (style instanceof CSSStyleSheet) return style;\n\n        let styleSheet = styleSheetsMap.get(style);\n        if (!styleSheet) {\n          styleSheet = new CSSStyleSheet();\n          styleSheet.replaceSync(style);\n          styleSheetsMap.set(style, styleSheet);\n        }\n        return styleSheet;\n      });\n\n      if (styleSheets.length === adoptedStyleSheets.length) {\n        isEqual = true;\n        for (let i = 0; i < styleSheets.length; i += 1) {\n          if (styleSheets[i] !== adoptedStyleSheets[i]) {\n            isEqual = false;\n            break;\n          }\n        }\n      }\n\n      if (!isEqual) target.adoptedStyleSheets = styleSheets;\n    } else if (adoptedStyleSheets && adoptedStyleSheets.length) {\n      target.adoptedStyleSheets = [];\n    }\n\n    const prevArgs = data.prevArgs;\n    data.prevArgs = args;\n\n    for (let index = 0; index < data.markers.length; index += 1) {\n      const [node, marker] = data.markers[index];\n      if (!prevArgs || prevArgs[index] !== args[index]) {\n        marker(host, node, args[index], prevArgs ? prevArgs[index] : undefined);\n      }\n    }\n\n    if (target.nodeType !== Node.TEXT_NODE) {\n      shadyCSS(shady => {\n        if (host.shadowRoot) {\n          if (prevArgs) {\n            shady.styleSubtree(host);\n          } else {\n            shady.styleElement(host);\n          }\n        }\n      });\n    }\n  };\n}\n","const setCache = new Map();\nexport function set(propertyName, value) {\n  if (!propertyName)\n    throw Error(`Target property name missing: ${propertyName}`);\n\n  if (arguments.length === 2) {\n    return host => {\n      host[propertyName] = value;\n    };\n  }\n\n  let fn = setCache.get(propertyName);\n\n  if (!fn) {\n    fn = (host, { target }) => {\n      host[propertyName] = target.value;\n    };\n    setCache.set(propertyName, fn);\n  }\n\n  return fn;\n}\n\nconst promiseMap = new WeakMap();\nexport function resolve(promise, placeholder, delay = 200) {\n  return (host, target) => {\n    let timeout;\n\n    if (placeholder) {\n      timeout = setTimeout(() => {\n        timeout = undefined;\n\n        requestAnimationFrame(() => {\n          placeholder(host, target);\n        });\n      }, delay);\n    }\n\n    promiseMap.set(target, promise);\n\n    promise.then(template => {\n      if (timeout) clearTimeout(timeout);\n\n      if (promiseMap.get(target) === promise) {\n        template(host, target);\n        promiseMap.set(target, null);\n      }\n    });\n  };\n}\n","import defineElements from \"../define.js\";\n\nimport { compileTemplate, getPlaceholder } from \"./core.js\";\nimport * as helpers from \"./helpers.js\";\n\nconst PLACEHOLDER = getPlaceholder();\nconst SVG_PLACEHOLDER = getPlaceholder(\"svg\");\nconst STYLE_IMPORT_REGEXP = /@import/;\n\nconst templatesMap = new Map();\nconst stylesMap = new WeakMap();\n\nconst methods = {\n  define(elements) {\n    defineElements(elements);\n    return this;\n  },\n  key(id) {\n    this.id = id;\n    return this;\n  },\n  style(...styles) {\n    stylesMap.set(\n      this,\n      styles.filter(style => style),\n    );\n    return this;\n  },\n};\n\nfunction create(parts, args, isSVG) {\n  const createTemplate = (host, target = host) => {\n    const styles = stylesMap.get(createTemplate);\n    let hasAdoptedStyleSheets;\n    let id = parts.join(PLACEHOLDER);\n\n    if (styles) {\n      const joinedStyles = styles.join(PLACEHOLDER);\n      hasAdoptedStyleSheets =\n        !!target.adoptedStyleSheets && !STYLE_IMPORT_REGEXP.test(joinedStyles);\n      if (!hasAdoptedStyleSheets) id += joinedStyles;\n    }\n\n    if (isSVG) id += SVG_PLACEHOLDER;\n\n    let render = templatesMap.get(id);\n    if (!render) {\n      render = compileTemplate(parts, isSVG, !hasAdoptedStyleSheets && styles);\n      templatesMap.set(id, render);\n    }\n\n    render(host, target, args, hasAdoptedStyleSheets && styles);\n  };\n\n  return Object.assign(createTemplate, methods);\n}\n\nexport function html(parts, ...args) {\n  return create(parts, args);\n}\n\nexport function svg(parts, ...args) {\n  return create(parts, args, true);\n}\n\nObject.assign(html, helpers);\nObject.assign(svg, helpers);\n"],"sourceRoot":""}